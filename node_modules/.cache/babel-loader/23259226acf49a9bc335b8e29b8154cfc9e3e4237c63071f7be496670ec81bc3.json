{"ast":null,"code":"import _slicedToArray from\"C:/Users/Anupma Kumari/Desktop/project_travel_advisor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{CssBaseline,Grid}from'@material-ui/core';import{getPlacesData,getWeatherData}from'./api';import Header from'./components/Header/Header';import List from'./components/List/List';import Map from'./components/Map/Map';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),places=_useState2[0],setPlaces=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),weatherData=_useState4[0],setWeatherData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredPlaces=_useState6[0],setFilteredPlaces=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),childClicked=_useState8[0],setChildClicked=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),coordinates=_useState10[0],setCoordinates=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),bounds=_useState12[0],setBounds=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isLoading=_useState14[0],setIsLoading=_useState14[1];var _useState15=useState('restaurants'),_useState16=_slicedToArray(_useState15,2),type=_useState16[0],setType=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),rating=_useState18[0],setRating=_useState18[1];useEffect(function(){navigator.geolocation.getCurrentPosition(function(_ref){var _ref$coords=_ref.coords,latitude=_ref$coords.latitude,longitude=_ref$coords.longitude;setCoordinates({lat:latitude,lng:longitude});});},[]);useEffect(function(){var filteredPlaces=places.filter(function(place){return place.rating>rating;});setFilteredPlaces(filteredPlaces);},[rating]);useEffect(function(){if(bounds.sw&&bounds.ne){setIsLoading(true);getWeatherData(coordinates.lat,coordinates.lng).then(function(data){return setWeatherData(data);});getPlacesData(type,bounds.sw,bounds.ne).then(function(data){setPlaces(data===null||data===void 0?void 0:data.filter(function(place){return place.name&&place.num_reviews>0;}));setFilteredPlaces([]);setIsLoading(false);});}},[type,bounds]);console.log(places);console.log(filteredPlaces);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Header,{setCoordinates:setCoordinates}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(List,{places:filteredPlaces.length?filteredPlaces:places,childClicked:childClicked,isLoading:isLoading,type:type,setType:setType,rating:rating,setRating:setRating})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Map,{setCoordinates:setCoordinates,setBounds:setBounds,coordinates:coordinates,places:filteredPlaces.length?filteredPlaces:places,setChildClicked:setChildClicked,weatherData:weatherData})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","CssBaseline","Grid","getPlacesData","getWeatherData","Header","List","Map","App","places","setPlaces","weatherData","setWeatherData","filteredPlaces","setFilteredPlaces","childClicked","setChildClicked","coordinates","setCoordinates","bounds","setBounds","isLoading","setIsLoading","type","setType","rating","setRating","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","lat","lng","filter","place","sw","ne","then","data","name","num_reviews","console","log","width","length"],"sources":["C:/Users/Anupma Kumari/Desktop/project_travel_advisor/src/App.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport { CssBaseline, Grid } from '@material-ui/core';\r\n\r\nimport { getPlacesData, getWeatherData } from './api';\r\nimport Header from './components/Header/Header';\r\nimport List from './components/List/List';\r\nimport Map from './components/Map/Map';\r\n\r\n\r\nconst App = () => {\r\n    const [places, setPlaces] = useState([]);\r\n    const [weatherData, setWeatherData] = useState([]);\r\n    const [filteredPlaces, setFilteredPlaces] = useState([]);\r\n\r\n    const [childClicked,setChildClicked] = useState(null);\r\n\r\n    const [coordinates, setCoordinates] = useState({});\r\n    const [bounds, setBounds] = useState({});\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [type, setType] = useState('restaurants');\r\n    const [rating, setRating] = useState('');\r\n\r\n    useEffect(()=>{\r\n        navigator.geolocation.getCurrentPosition(({coords:{latitude, longitude}})=>{\r\n            setCoordinates({lat:latitude, lng:longitude});\r\n        })\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        const filteredPlaces = places.filter((place)=>place.rating>rating);\r\n        setFilteredPlaces(filteredPlaces);\r\n\r\n    },[rating]);\r\n\r\n    useEffect(()=>{\r\n        if(bounds.sw && bounds.ne){\r\n        setIsLoading(true);\r\n\r\n        getWeatherData(coordinates.lat,coordinates.lng)\r\n        .then((data)=>setWeatherData(data));\r\n\r\n        getPlacesData(type, bounds.sw, bounds.ne)\r\n        .then((data)=>{\r\n            setPlaces(data?.filter((place)=>place.name && place.num_reviews>0));\r\n            setFilteredPlaces([]);\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n    },[type, bounds]);\r\n\r\n    console.log(places)\r\n    console.log(filteredPlaces)\r\n\r\n    return (\r\n        <>\r\n            <CssBaseline/>\r\n            <Header setCoordinates={setCoordinates}/>\r\n            <Grid container spacing={3} style={{width:'100%'}}>\r\n                <Grid item xs={12} md={4}>\r\n                    <List \r\n                    places={filteredPlaces.length ? filteredPlaces : places}\r\n                    childClicked={childClicked}\r\n                    isLoading={isLoading}\r\n                    type={type}\r\n                    setType={setType}\r\n                    rating={rating}\r\n                    setRating={setRating}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} md={8}>\r\n                    <Map\r\n                        setCoordinates={setCoordinates}\r\n                        setBounds={setBounds}\r\n                        coordinates={coordinates}\r\n                        places={filteredPlaces.length ? filteredPlaces : places}\r\n                        setChildClicked={setChildClicked}\r\n                        weatherData={weatherData}\r\n                    />\r\n                </Grid>\r\n            </Grid>  \r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}